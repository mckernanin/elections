jQuery(function(e){e(document).ready(function(){if(e("body").hasClass("section-ballots"))for(var t=e(".ballots"),n=e(".site-main").outerHeight(),o=Math.floor(e(".ballots:nth-of-type(odd)").length),a=e(".ballots").outerHeight(),l=o*a;l<n;)t.clone().insertAfter(".ballots:first-of-type"),o=Math.floor(e(".ballots:nth-of-type(odd)").length),l=o*a,console.log(l);if(e("#election-calendar").on("click",".fc-event",function(t){var n=e('*[class*="unit-"]').filter(function(){return this.className.match(/(?:^|\s)unit-/)});-1!=e(this).attr("href").indexOf("unit_date")&&(t.preventDefault(),n.removeClass("selected-election"),e(this).toggleClass("selected-election"))}),e("#schedule-elections").on("click",function(){var t={};if(t.elements=e(".selected-election"),t.elements.length){t.data=[];var n=confirm("Do you want to schedule these elections? This action cannot be undone, and will notify the units.");1==n&&(e.each(t.elements,function(){var n=e(this).attr("href").split("_");n[0]=n[0].replace("#","");var o={postID:n[0],selectedDate:n[3]};t.data.push(o)}),e.ajax({url:"/wp-json/oa-elections/v1/schedule-election",type:"post",data:{elections:t.data},success:function(t){e("#election-calendar").fullCalendar("refetchEvents"),e("#schedule-response").text(t.message),console.log("scheduled!")},fail:function(e){alert(e)}}))}}),e("body").hasClass("section-report")){var i={ID:document.body.className.match(/(^|\s)postid-(\d+)(\s|$)/)[2],registeredActiveYouth:0,youthAttendance:0,electionOne:{ballots:0,required:0},electionTwo:{ballots:0,required:0},candidates:[]};e("#registeredActiveYouth").on("change",function(){i.registeredActiveYouth=Math.abs(e(this).val())}),e("#youthAttendance").on("change",function(){i.youthAttendance=Math.abs(e(this).val()),i.youthAttendance<=i.registeredActiveYouth/2&&alert("Please check your input, over 50% of active members must be in attendance.")}),e("#electionOneBallots").on("change",function(){i.electionOne.ballots=Math.abs(e(this).val()),i.electionOne.required=Math.ceil(i.electionOne.ballots/2),e("#electionOneRequired").val(i.electionOne.required)}),e("#electionTwoBallots").on("change",function(){i.electionTwo.ballots=Math.abs(e(this).val()),i.electionTwo.required=Math.ceil(i.electionTwo.ballots/2),e("#electionTwoRequired").val(i.electionTwo.required)}),e('input[type="checkbox"]').on("change",function(){this.checked&&i.candidates.push(Math.abs(e(this).attr("name")))}),e("#submit-election-results").on("click",function(){e.ajax({url:"/wp-json/oa-elections/v1/set-election-results",type:"post",data:{report:i},success:function(e){console.log(e)},fail:function(e){alert(e)}})})}e("#_oa_election_unit_location").attr("required",!0),e("#_oa_candidate_address_address_2").attr("required",!1),e("#_oa_election_unit_location").on("change",function(){var t=e(this).val();e("#_oa_election_unit_address_text").val(t)}),e(".cmb-form").length&&e(".cmb-form").parsley()})});